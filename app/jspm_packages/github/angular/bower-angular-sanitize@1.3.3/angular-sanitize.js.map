{"version":3,"file":"angular-sanitize.js","sources":["angular-sanitize.src.js"],"names":["window","angular","$SanitizeProvider","this","$get","$$sanitizeUri","html","buf","htmlParser","htmlSanitizeWriter","uri","isImage","test","join","sanitizeText","chars","writer","noop","makeMap","str","i","obj","items","split","length","handler","parseStartTag","tag","tagName","rest","unary","lowercase","blockElements","stack","last","inlineElements","parseEndTag","optionalEndTagElements","voidElements","push","attrs","replace","ATTR_REGEXP","match","name","doubleQuotedValue","singleQuotedValue","unquotedValue","value","decodeEntities","start","pos","end","index","text","specialElements","RegExp","all","COMMENT_REGEXP","CDATA_REGEXP","indexOf","lastIndexOf","comment","substring","DOCTYPE_REGEXP","BEGING_END_TAGE_REGEXP","END_TAG_REGEXP","BEGIN_TAG_REGEXP","START_TAG_REGEXP","$sanitizeMinErr","parts","spaceRe","exec","spaceBefore","spaceAfter","content","hiddenPre","innerHTML","textContent","innerText","encodeEntities","SURROGATE_PAIR_REGEXP","hi","charCodeAt","low","NON_ALPHANUMERIC_REGEXP","uriValidator","ignore","out","bind","validElements","forEach","key","lkey","validAttrs","uriAttrs","$$minErr","optionalEndTagBlockElements","optionalEndTagInlineElements","extend","svgElements","htmlAttrs","svgAttrs","document","createElement","module","provider","filter","$sanitize","LINKY_URL_REGEXP","MAILTO_REGEXP","target","addText","addLink","url","isDefined","raw","substr"],"mappings":"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"}